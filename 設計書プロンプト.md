# コードから技術設計書を生成するためのCopilotプロンプト

以下のコードを分析し、Python/SQLAlchemy/ReactとAWSを使用したクラウドネイティブアプリケーションの技術設計書を生成してください。JIRA上の非技術的な情報（ユーザーストーリー、受入基準など）は既に管理されているため、技術的な側面に焦点を当ててください。

```
// ここに分析対象のコードを貼り付けてください
// バックエンド（Python/SQLAlchemy）コード、フロントエンド（React）コード、
// インフラストラクチャ（AWS CDK/Terraform/CloudFormation）コードなど
```

## 1. 技術概要

### 1.1 実装機能の技術的概要
[このコードが実装している機能の技術的な説明を100-200単語程度で記述してください。全体的なアーキテクチャや主要なコンポーネントについて言及してください。]

### 1.2 使用技術とライブラリ
[コードで使用されている主要な技術、フレームワーク、ライブラリを特定し、それぞれの役割を簡潔に説明してください。]

## 2. コンポーネント設計

### 2.1 主要コンポーネント
[コードの主要なコンポーネント（クラス、関数、モジュールなど）を特定し、それぞれの責務と相互関係を説明してください。単一責任の原則に従っているか、凝集度と結合度はどうかなど、設計パターンやアーキテクチャパターンに言及してください。]

### 2.2 データフロー
[このコードにおけるデータの流れを説明してください。入力がどのように処理され、どこに保存され、どのように出力されるかを追跡してください。]

## 3. データモデル

### 3.1 SQLAlchemyモデル解析
[コードに含まれるSQLAlchemyモデルを分析し、エンティティ、属性、リレーションシップを特定してください。必要に応じてER図の説明を含めてください。]

### 3.2 データバリデーションとビジネスルール
[データモデルに組み込まれているバリデーションロジックやビジネスルールを特定し、説明してください。]

## 4. API設計

### 4.1 エンドポイント仕様
[コードから識別できるAPIエンドポイントを文書化し、各エンドポイントの目的、入力パラメータ、レスポンス形式、エラー処理を説明してください。RESTfulの原則に従っているかどうかを評価してください。]

### 4.2 認証と認可
[APIの認証メカニズムと認可ロジックを説明してください。JWTトークン、APIキー、IAMロールなど、使用されている方法を特定してください。]

## 5. フロントエンド構造

### 5.1 Reactコンポーネント階層
[Reactコンポーネントの階層と責務分担を分析してください。コンポーネントの再利用性、props管理、状態管理アプローチについて言及してください。]

### 5.2 状態管理
[Redux、Context API、React Queryなど、使用されている状態管理ソリューションを特定し、どのようにデータフローが実装されているかを説明してください。]

### 5.3 UIとUX設計パターン
[使用されているUIコンポーネントライブラリ、レスポンシブデザインアプローチ、アクセシビリティへの配慮について説明してください。]

## 6. AWS インフラストラクチャ

### 6.1 使用されているAWSサービス
[コードから識別できるAWSサービス（Lambda、DynamoDB、S3など）を列挙し、それぞれの役割と設定を説明してください。]

### 6.2 インフラストラクチャアーキテクチャ
[サーバーレス、コンテナ化、マイクロサービスなど、採用されているアーキテクチャパターンを特定し、その利点と課題を説明してください。]

### 6.3 セキュリティ設計
[IAMポリシー、VPC設定、暗号化メカニズムなど、実装されているセキュリティ対策を説明してください。]

## 7. パフォーマンスと最適化

### 7.1 パフォーマンス考慮事項
[キャッシング、データベースインデックス、非同期処理など、コードに組み込まれているパフォーマンス最適化を特定してください。]

### 7.2 スケーラビリティ設計
[水平スケーリング、負荷分散、Auto Scalingなど、アプリケーションのスケーラビリティをサポートする設計要素を説明してください。]

## 8. テスト戦略

### 8.1 テストカバレッジ
[ユニットテスト、統合テスト、E2Eテストなど、コードに関連するテストを分析し、カバレッジと品質を評価してください。]

### 8.2 テスト自動化
[CIパイプラインに統合されているテスト、モックとスタブの使用、テストデータ管理など、テスト自動化アプローチを説明してください。]

## 9. 技術的負債と改善点

### 9.1 コード品質評価
[DRY、SOLID原則などのコード品質指標に基づいて、コードの強みと弱みを分析してください。リファクタリングの候補となる領域を特定してください。]

### 9.2 改善提案
[コードベースを改善するための具体的な提案を3-5点提供してください。各提案には技術的根拠を含めてください。]

## 10. デプロイメントと運用

### 10.1 デプロイメントプロセス
[CI/CDパイプライン、デプロイメント戦略（ブルー/グリーン、カナリアなど）、環境管理アプローチを説明してください。]

### 10.2 監視とロギング
[メトリクス、ログ、アラート設定など、運用面でのモニタリング手法を特定してください。]

## 11. まとめと注意点

### 11.1 技術設計の要点
[この実装の主要な技術的決定と設計パターンを要約してください。]

### 11.2 開発者向け注意点
[このコードを維持または拡張する開発者向けに、特に注意すべき点や前提条件を記載してください。]

## 指示
このテンプレートに基づいて、与えられたコードの技術設計書を作成してください。すべてのセクションを埋める必要はなく、コードの複雑さと範囲に応じて、関連するセクションに焦点を当ててください。分析が困難なセクションについては、その理由を説明し、追加情報が必要な場合は具体的に何が必要かを指摘してください。コードベースの特性を反映した、実用的で明確な技術ドキュメントを作成することを目指してください。
